import type { AnimalData } from '../types/animalQuiz';

export const ANIMAL_QUIZ_DATA: AnimalData[] = [
  {
    id: '01_higuma',
    name: 'ヒグマ',
    imageFile: '/images/quiz_animals/01_higuma.png',
    correctAnswers: ['ヒグマ', 'ひぐま', '日熊', 'ひぐま', 'ヒグマ'],
    description: 'ヒグマは日本最大の陸上動物で、北海道に生息しています。狩猟対象動物として重要な位置を占めており、その生態や行動パターンを理解することが狩猟において重要です。'
  },
  {
    id: '02_tsukinowaguma',
    name: 'ツキノワグマ',
    imageFile: '/images/quiz_animals/02_tsukinowaguma.png',
    correctAnswers: ['ツキノワグマ', 'つきのわぐま', '月輪熊', 'つきのわ熊', 'ツキノワ熊'],
    description: 'ツキノワグマは本州、四国、九州に生息する中型のクマです。胸の三日月模様が特徴的で、狩猟においてヒグマとの識別が重要になります。'
  },
  {
    id: '03_araiguma',
    name: 'アライグマ',
    imageFile: '/images/quiz_animals/03_araiguma.png',
    correctAnswers: ['アライグマ', 'あらいぐま', '洗熊', 'あらい熊', 'アライ熊'],
    description: 'アライグマは北米原産の外来種で、現在は日本各地で生息が確認されています。農作物被害の原因となることが多く、有害鳥獣として狩猟対象となっています。'
  },
  {
    id: '04_tanuki',
    name: 'タヌキ',
    imageFile: '/images/quiz_animals/04_tanuki.png',
    correctAnswers: ['タヌキ', 'たぬき', '狸', 'たぬき', 'タヌキ'],
    description: 'タヌキは日本固有の動物で、全国に広く分布しています。夜行性で雑食性の動物として知られ、狩猟においては重要な獲物の一つです。'
  },
  {
    id: '05_anaguma',
    name: 'アナグマ',
    imageFile: '/images/quiz_animals/05_anaguma.png',
    correctAnswers: ['アナグマ', 'あなぐま', '穴熊', 'あな熊', 'アナ熊'],
    description: 'アナグマは地中に巣穴を掘って生活するイタチ科の動物です。夜行性で、主に昆虫や小動物を食べます。狩猟では罠猟で捕獲されることが多いです。'
  },
  {
    id: '06_kitsune',
    name: 'キツネ',
    imageFile: '/images/quiz_animals/06_kitsune.png',
    correctAnswers: ['キツネ', 'きつね', '狐', 'きつね', 'キツネ'],
    description: 'キツネは日本全国に幅広く分布するイヌ科の動物です。賢明で適応力が高く、都市部でも生息しています。狩猟では伝統的に重要な獲物として扱われてきました。'
  },
  {
    id: '07_shika',
    name: 'ニホンジカ',
    imageFile: '/images/quiz_animals/07_shika.png',
    correctAnswers: ['ニホンジカ', 'にほんじか', 'シカ', 'しか', '鹿', '日本鹿', 'ニホンシカ', 'にほんしか'],
    description: 'ニホンジカは日本を代表する大型草食動物で、狩猟の主要な対象種です。雄は立派な角を持ち、秋の繁殖期には特徴的な鳴き声を発します。'
  },
  {
    id: '08_inoshishi',
    name: 'イノシシ',
    imageFile: '/images/quiz_animals/08_inoshishi.png',
    correctAnswers: ['イノシシ', 'いのしし', '猪', 'いのしし', 'イノシシ'],
    description: 'イノシシは日本の山間部に生息する大型のイノシシ科動物です。非常に力が強く、警戒心が強いため、狩猟においては高度な技術と経験が必要とされます。'
  },
  {
    id: '09_nutoria',
    name: 'ヌートリア',
    imageFile: '/images/quiz_animals/09_nutoria.png',
    correctAnswers: ['ヌートリア', 'ぬーとりあ', 'ヌートリア', 'ぬーとりあ'],
    description: 'ヌートリアは南米原産の外来種で、水辺に生息する大型の鼠の仲間です。現在では日本各地の河川や池で生息が確認され、生態系への影響が懸念されています。'
  },
  {
    id: '10_usagi',
    name: '　ノウサギ・ユキウサギ',
    imageFile: '/images/quiz_animals/10_usagi.png',
    correctAnswers: ['ユキウサギ', 'ゆきうさぎ', 'ノウサギ', 'のうさぎ', 'ウサギ', 'うさぎ', '兎', '雪兎', '野兎', 'ユキウサギ', 'ノウサギ'],
    description: 'ウサギ（ユキウサギ・ノウサギ）は日本の山地に生息する野生のウサギです。季節によって毛色が変化し、素早い動きで天敵から逃れます。狩猟では小型獣として人気があります。'
  },
  {
    id: '11_shimarisu',
    name: 'シマリス',
    imageFile: '/images/quiz_animals/11_shimarisu.png',
    correctAnswers: ['シマリス', 'しまりす', '縞栗鼠', 'しま栗鼠', 'シマ栗鼠'],
    description: 'シマリスは背中の縞模様が特徴的な小型のリス科動物です。主に北海道に生息し、木の実や種子を主食としています。可愛らしい外見で親しまれている動物です。'
  },
  {
    id: '12_taiwanrisu',
    name: 'タイワンリス',
    imageFile: '/images/quiz_animals/12_taiwanrisu.png',
    correctAnswers: ['タイワンリス', 'たいわんりす', '台湾栗鼠', 'たいわん栗鼠', 'タイワン栗鼠'],
    description: 'タイワンリスは台湾原産の外来種で、現在は関東地方を中心に生息しています。農作物への被害や在来生態系への影響が問題となり、狩猟対象となっています。'
  },
  {
    id: '13_hakubishin',
    name: 'ハクビシン',
    imageFile: '/images/quiz_animals/13_hakubishin.png',
    correctAnswers: ['ハクビシン', 'はくびしん', '白鼻芯', 'はくび芯', 'ハクビ芯'],
    description: 'ハクビシンは鼻筋の白い線が特徴的なジャコウネコ科の動物です。夜行性で木登りが得意、果実を好んで食べます。都市部でも見かけることがある適応力の高い動物です。'
  },
  {
    id: '14_ten',
    name: 'テン',
    imageFile: '/images/quiz_animals/14_ten.png',
    correctAnswers: ['テン', 'てん', '貂', 'てん', 'テン'],
    description: 'テンは日本固有のイタチ科動物で、本州、四国、九州に生息しています。季節によって毛色が変化し、冬は美しい黄褐色になります。樹上生活に適応した動物です。'
  },
  {
    id: '15_itachi',
    name: 'イタチ',
    imageFile: '/images/quiz_animals/15_itachi.png',
    correctAnswers: ['イタチ', 'いたち', '鼬', 'いたち', 'イタチ'],
    description: 'イタチは細長い体型が特徴的なイタチ科の小型哺乳動物です。水辺を好み、魚や小動物を捕食します。俊敏な動きと鋭い歯を持つ優秀なハンターです。'
  },
  {
    id: '16_minku',
    name: 'ミンク',
    imageFile: '/images/quiz_animals/16_minku.png',
    correctAnswers: ['ミンク', 'みんく', 'ミンク', 'みんく'],
    description: 'ミンクは北米原産のイタチ科動物で、毛皮動物として導入されました。現在は野生化して各地で生息しており、在来生態系への影響が懸念されている外来種です。'
  }
];

// 問題をランダムにシャッフルする関数
export function shuffleAnimals(): AnimalData[] {
  const shuffled = [...ANIMAL_QUIZ_DATA];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
}

// 4択の選択肢を生成する関数
export function generateChoices(correctAnimal: AnimalData, allAnimals: AnimalData[]): string[] {
  const choices = [correctAnimal.name];
  const otherAnimals = allAnimals.filter(animal => animal.id !== correctAnimal.id);
  
  // ランダムに3つの不正解選択肢を選ぶ
  const shuffledOthers = [...otherAnimals].sort(() => Math.random() - 0.5);
  choices.push(...shuffledOthers.slice(0, 3).map(animal => animal.name));
  
  // 選択肢をシャッフル
  return choices.sort(() => Math.random() - 0.5);
}

// 回答の正解判定（4択用）
export function isCorrectAnswer(userAnswer: string, correctAnswer: string): boolean {
  return userAnswer.trim() === correctAnswer.trim();
}